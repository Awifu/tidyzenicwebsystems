<!-- HEADER -->
<header class="main-header bg-white border-b border-gray-200 shadow-sm">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">

    <!-- Logo -->
    <div class="logo">
      <a href="/">
        <img src="/images/logo-light.svg" alt="TidyZenic Logo" class="h-12 w-auto">
      </a>
    </div>

    <!-- Mobile Menu Button (mobile & tablet only) -->
    <button id="menu-toggle" class="lg:hidden text-2xl" aria-label="Toggle menu">
      ☰
    </button>

    <!-- Nav -->
    <nav id="main-nav" class="hidden lg:flex">
      <ul class="nav-menu flex flex-col lg:flex-row gap-4 lg:gap-8">
        <li class="nav-item has-submenu relative">
          <button id="features-toggle" class="submenu-toggle flex items-center gap-1">
            Features <span>▼</span>
          </button>
          <ul id="features-submenu" class="submenu hidden absolute mt-2 bg-white shadow-lg rounded-md w-48">
            <li><a href="/staff-management" class="block px-4 py-2 hover:bg-gray-100">Staff Management</a></li>
            <li><a href="/smart-scheduling" class="block px-4 py-2 hover:bg-gray-100">Smart Scheduling</a></li>
            <li><a href="/price-estimate-tool" class="block px-4 py-2 hover:bg-gray-100">Price Estimate Tool</a></li>
            <li><a href="/booking-form" class="block px-4 py-2 hover:bg-gray-100">Booking Form</a></li>
            <li><a href="/advanced-marketing" class="block px-4 py-2 hover:bg-gray-100">Advanced Marketing</a></li>
          </ul>
        </li>
        <li><a href="/pricing" class="hover:text-brand-600">Pricing</a></li>
        <li><a href="/blog" class="hover:text-brand-600">Blog</a></li>
      </ul>
    </nav>
  </div>
</header>

<style>
  /* Fixed Header */
  .main-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: #fff;
  }
  body {
    padding-top: 4.5rem; /* Prevents overlap */
  }

  /* Mobile Nav (default hidden) */
  #main-nav {
    transition: max-height 0.3s ease, opacity 0.3s ease;
    overflow: hidden;
  }
  #main-nav.open {
    display: block !important;
    max-height: 500px;
    opacity: 1;
  }

  /* Desktop Override */
  @media (min-width: 1024px) {
    #main-nav {
      display: flex !important;
      max-height: none !important;
      opacity: 1 !important;
      overflow: visible !important;
    }
    #menu-toggle {
      display: none !important; /* Hide hamburger on desktop */
    }
  }
</style>

<script>
  const toggleBtn = document.getElementById('menu-toggle');
  const nav = document.getElementById('main-nav');
  const featuresToggle = document.getElementById('features-toggle');
  const featuresSubmenu = document.getElementById('features-submenu');

  // Mobile menu toggle
  toggleBtn.addEventListener('click', () => {
    nav.classList.toggle('open');
  });

  // Features submenu toggle
  featuresToggle.addEventListener('click', (e) => {
    e.preventDefault();
    featuresSubmenu.classList.toggle('hidden');
  });
</script>
